{% extends 'layout.html' %}
{#{% load static %}#}
{% block content_detail %}
{#    <link rel="stylesheet"  href="{% static "layui/css/layui.css" %}">#}
            <div class="layui-form-item">
                <table class="layui-hide" id="departListTable" lay-filter="departListTable" ></table>
                <script type="text/html" id="toolbarDemo">
                    <div class="layui-btn-container">
                        <button type="button" class="layui-btn layui-btn-sm" lay-event="add"> <i class="layui-icon">&#xe654; 新增</i> </button>
                    </div>
                </script>
                <script type="text/html" id="barDemo1">
                    <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
                    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="delete">删除</a>
                </script>
            </div>
<script>
layui.use('table', function(){
  var table = layui.table;

  //第一个实例
  table.render({
    elem: '#departListTable'
    ,height: 600
    ,url: '/depart/list/data/' //数据接口
    ,toolbar: '#toolbarDemo' //开启头部工具栏，并为其绑定左侧模板
    ,page: true //开启分页
      ,parseData: function (res) { //res 即为原始返回的数据
        console.log(res)
            return {
                "code": res.code, //解析接口状态
                "msg": res.msg, //解析提示文本
                "count": res.total, //解析数据长度
                "data": res.data, //解析数据列表
            };
        }
    ,cols: [[ //表头
      {field: 'id', title: 'ID', width:180, sort: true, fixed: 'left'}
      ,{field: 'title', title: '部门名称', width:180}
      ,{fixed: 'right', title:'操作', toolbar: '#barDemo1',align: 'center',minWidth: 120}
    ]]
  });

});
</script>
{% endblock %}


